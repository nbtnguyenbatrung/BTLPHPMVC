{% extends 'baseUser.html' %}

{% block bredcrum %}

<!-- Breadcrumb Section Begin -->
<div class="breacrumb-section">
  <div class="container">
    <div class="row">
      <div class="col-lg-12">
        <div class="breadcrumb-text">
          <a href="/"><i class="fa fa-home"></i> Home</a>
          <span>Login</span>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- Breadcrumb Form Section Begin -->

{% endblock %}

{% block register %}
<!-- Register Section Begin -->
<div class="register-login-section spad">
  {% for message in flash_messages %}
  <div style="text-align: center;color: red;font-size: 20px;height: 40px;">
    {{ message.body }}
  </div>
  {% endfor %}
  <div class="container">
    <div class="row">
      <div class="col-lg-6 offset-lg-3">
        <div class="login-form">
          <h2>Login</h2>
          <form action="/?user/login/create" method='POST'>
            <div class="group-input">
              <label for="username"> email address *</label>
              <input type="text" id="username" name="username" required value="{{ username }}" />
            </div>
            <div class="group-input">
              <label for="pass">Password *</label>
              <input type="password" id="password" name="pass" required />
              <i style=" position: absolute;
              top: 55%;
              right: 5%;" class="bi bi-eye-slash" id="togglePassword"></i>
            </div>
            <div class="group-input gi-check">
              <div class="gi-more">
                <label for="save-pass">
                  Save Password
                  <input type="checkbox" id="save-pass" />
                  <span class="checkmark"></span>
                </label>
                <a onclick="ShowModal()" style="cursor: pointer;" class="forget-pass">Forget your Password</a>
              </div>
            </div>
            <button type="submit" class="site-btn login-btn">
              Sign In
            </button>
          </form>
          <div class="switch-login">
            <a href="/?register" class="or-login">Or Create An Account</a>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="modal fade bs-example-modal-lg " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel"
				align=center id="resetPassword">
				<div class="modal-dialog modal-lg" role="document">
					<div class="modal-content">
						<div class="modal-body">
							<div class="row" align=center style="display: block;">
								<h3> Quên mật khẩu </h3>

								<form class="form-horizontal" method="post" action="/?user/login/reset-password">

									<div class="form-group">
										<label class="control-label col-sm-8" for="name" > 
                      Nhập emai tài khoản đăng nhập	*
										</label>
										<div class="col-sm-8">
											<input type="text" class="form-control" style="width: 70% ;"
												placeholder="Nhập email  " name="email" required />
										</div>
									</div>

									<div class="form-group">
										<div class="col-sm-offset-2 col-sm-10">
											<button type="submit" class="btn btn-primary">Send</button>
										</div>
									</div>
								</form>
							</div>
						</div>

					</div>
				</div>

			</div>
</div>
<!-- Register Form Section End -->
{% endblock %}

{% block script %}

<script>

  const togglePassword = document.querySelector("#togglePassword");
  const password = document.querySelector("#password");

  togglePassword.addEventListener("click", function () {
    // toggle the type attribute
    const type = password.getAttribute("type") === "password" ? "text" : "password";
    password.setAttribute("type", type);

    // toggle the icon
    this.classList.toggle("bi-eye");
  });

  function ShowModal() {

    $('#resetPassword').modal('show');

  }

</script>

{% endblock %}